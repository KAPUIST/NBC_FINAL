<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebSocket Connection Test</title>
  </head>
  <body>
    <h1>WebSocket Connection Test</h1>
    <script>
      const token =
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiJiMjkxZmIzNi1lZDcwLTRkZjEtYWE1NC1mYzQ3NWI5YzA3MjYiLCJlbWFpbCI6InllZXdvb29vb25AZ21haWwuY29tIiwidHlwZSI6Im1haW4iLCJpYXQiOjE3MjI0MTQ3MzcsImV4cCI6MTcyMjQyMTkzN30.ni8eGwEleqMabAw-uuAF_uMIYG-7T82AStNTS8I0h8E' // 실제 사용자 JWT 토큰으로 교체
      const url = `ws://localhost:3000/chatting?token=${token}`
      const socket = new WebSocket(url)

      socket.onopen = function () {
        console.log('WebSocket connection opened')
      }

      socket.onerror = function (error) {
        console.error('WebSocket error:', error)
      }

      socket.onclose = function (event) {
        console.log('WebSocket connection closed', event)
      }

      socket.onmessage = function (event) {
        const message = JSON.parse(event.data)
        console.log('Message from server:', message)
      }
    </script>
  </body>
</html>
